# üì∏ H∆Ø·ªöNG D·∫™N CH·ª§P SCREENSHOTS - HO·∫†T ƒê·ªòNG 5 & 6

## üéØ M·ª§C TI√äU
Ch·ª•p screenshots ch·ª©ng minh **Ho·∫°t ƒê·ªông 5** (Activity Logging) v√† **Ho·∫°t ƒê·ªông 6** (Redux Toolkit + Protected Routes) ho·∫°t ƒë·ªông!

---

## üöÄ B∆Ø·ªöC 0: CHU·∫®N B·ªä

### **0.1: Start Backend & Frontend**

**C√°ch 1 - D√πng Batch File (KHUY·∫æN NGH·ªä):**
1. Double-click file: `START_BOTH_SERVERS.bat`
2. S·∫Ω m·ªü 2 c·ª≠a s·ªï CMD:
   - Backend Server (port 3000)
   - Frontend Server (port 3001)
3. ƒê·ª£i 15-20 gi√¢y
4. Browser t·ª± ƒë·ªông m·ªü: http://localhost:3001

**Ki·ªÉm tra th√†nh c√¥ng:**
- Backend window: `üöÄ Server running on port 3000`
- Frontend window: `webpack compiled successfully`
- Browser: Trang login hi·ªÉn th·ªã

---

## üì∏ HO·∫†T ƒê·ªòNG 5: ACTIVITY LOGGING SYSTEM (6 ·∫£nh)

---

### üñºÔ∏è **Screenshot A5.1: MongoDB - ActivityLogs Collection**

#### **M·ª•c ƒë√≠ch:** Ch·ª©ng minh ActivityLog model ƒë√£ l∆∞u d·ªØ li·ªáu v√†o MongoDB

#### **C√°c b∆∞·ªõc:**
1. M·ªü browser ‚Üí https://cloud.mongodb.com
2. Login ‚Üí Click Cluster0
3. Click **"Browse Collections"**
4. B√™n tr√°i: Click database **"groupDB"**
5. Click collection **"activitylogs"**

#### **Ph·∫£i th·∫•y:**
- ‚úÖ Collection name: `activitylogs`
- ‚úÖ Documents v·ªõi fields:
  ```
  _id: ObjectId("...")
  userId: ObjectId("...")
  action: "login" / "create_user" / "update_user" / "delete_user"
  details: "User logged in successfully"
  ipAddress: "::1" ho·∫∑c IP address
  userAgent: "Mozilla/5.0..."
  timestamp: ISODate("2025-10-26...")
  status: "success" / "failed"
  ```

#### **Ch·ª•p m√†n h√¨nh:**
1. `Win + Shift + S`
2. K√©o chu·ªôt bao:
   - Collection name b√™n tr√°i
   - Table v·ªõi activity logs
3. **Save as:** `A5_1_MongoDB_ActivityLogs.png`

‚úÖ **Xong Screenshot A5.1!**

---

### üñºÔ∏è **Screenshot A5.2: Postman - GET Activity Logs (Admin only)**

#### **M·ª•c ƒë√≠ch:** Ch·ª©ng minh API GET /api/logs ho·∫°t ƒë·ªông

#### **C√°c b∆∞·ªõc:**

**B∆∞·ªõc 1: Login Admin ƒë·ªÉ l·∫•y token**
1. Postman: New Request
2. Method: **POST**
3. URL: `http://localhost:3000/api/auth/login`
4. Body ‚Üí raw ‚Üí JSON:
   ```json
   {
     "email": "admin@example.com",
     "password": "admin123"
   }
   ```
5. Send
6. **Copy accessToken** t·ª´ response

**B∆∞·ªõc 2: Get Activity Logs**
1. New Request
2. Method: **GET**
3. URL: `http://localhost:3000/api/logs`
4. Headers tab:
   - Key: `Authorization`
   - Value: `Bearer <paste_accessToken>`
5. Send

#### **Ph·∫£i th·∫•y:**
- ‚úÖ Status: **200 OK**
- ‚úÖ Response body:
  ```json
  {
    "success": true,
    "logs": [
      {
        "_id": "...",
        "userId": {
          "_id": "...",
          "name": "Admin",
          "email": "admin@example.com"
        },
        "action": "login",
        "details": "User logged in successfully",
        "timestamp": "2025-10-26T...",
        "status": "success"
      },
      ...
    ],
    "total": 15
  }
  ```

#### **Ch·ª•p m√†n h√¨nh:**
1. `Win + Shift + S`
2. K√©o chu·ªôt bao:
   - URL bar (GET /api/logs)
   - Headers tab (Authorization header)
   - Response body (logs array)
3. **Save as:** `A5_2_Postman_GET_Logs.png`

‚úÖ **Xong Screenshot A5.2!**

---

### üñºÔ∏è **Screenshot A5.3: Postman - GET User's Activity Logs**

#### **M·ª•c ƒë√≠ch:** Ch·ª©ng minh API GET /api/logs/user/:userId ho·∫°t ƒë·ªông

#### **C√°c b∆∞·ªõc:**
1. Postman: New Request
2. Method: **GET**
3. URL: `http://localhost:3000/api/logs/user/673c9b26ce25cfa4e7ae6f8a`
   - **L·∫•y userId:** Copy t·ª´ response GET /api/logs ·ªü b∆∞·ªõc tr∆∞·ªõc
4. Headers:
   - Authorization: `Bearer <admin_token>`
5. Send

#### **Ph·∫£i th·∫•y:**
- ‚úÖ Status: **200 OK**
- ‚úÖ Response: Logs c·ªßa user c·ª• th·ªÉ
  ```json
  {
    "success": true,
    "logs": [
      {
        "action": "login",
        "details": "User logged in",
        "timestamp": "..."
      }
    ]
  }
  ```

#### **Ch·ª•p m√†n h√¨nh:**
1. `Win + Shift + S`
2. **Save as:** `A5_3_Postman_GET_User_Logs.png`

‚úÖ **Xong Screenshot A5.3!**

---

### üñºÔ∏è **Screenshot A5.4: Frontend - Activity Logs Page (Admin)**

#### **M·ª•c ƒë√≠ch:** Ch·ª©ng minh Frontend hi·ªÉn th·ªã Activity Logs

#### **C√°c b∆∞·ªõc:**
1. Browser: http://localhost:3001
2. Login: admin@example.com / admin123
3. V√†o Activity Logs page:
   - URL: http://localhost:3001/logs
   - Ho·∫∑c click "Activity Logs" trong Admin Panel

#### **Ph·∫£i th·∫•y:**
- ‚úÖ Title: "Activity Logs" ho·∫∑c "Nh·∫≠t k√Ω ho·∫°t ƒë·ªông"
- ‚úÖ Table v·ªõi columns:
  - User (Name + Email)
  - Action (login, create_user, update_user, delete_user)
  - Details
  - IP Address
  - Timestamp
  - Status (success/failed)
- ‚úÖ √çt nh·∫•t 5-10 rows logs

#### **Ch·ª•p m√†n h√¨nh:**
1. `Win + Shift + S`
2. K√©o chu·ªôt bao to√†n trang v·ªõi logs table
3. **Save as:** `A5_4_Frontend_Activity_Logs_Page.png`

‚úÖ **Xong Screenshot A5.4!**

---

### üñºÔ∏è **Screenshot A5.5: Backend Code - activityLogger Middleware**

#### **M·ª•c ƒë√≠ch:** Ch·ª©ng minh code activityLogger middleware

#### **C√°c b∆∞·ªõc:**
1. VSCode: M·ªü file `backend/middleware/activityLogger.js`
2. Scroll ƒë·ªÉ th·∫•y:
   - Function `logActivity`
   - Function `logActivityManual`
   - Function `logFailedLogin`

#### **Ch·ª•p m√†n h√¨nh:**
1. `Win + Shift + S`
2. K√©o chu·ªôt bao to√†n file (ho·∫∑c main functions)
3. **Save as:** `A5_5_Code_ActivityLogger_Middleware.png`

‚úÖ **Xong Screenshot A5.5!**

---

### üñºÔ∏è **Screenshot A5.6: Backend Code - ActivityLog Model**

#### **M·ª•c ƒë√≠ch:** Ch·ª©ng minh ActivityLog Model v·ªõi TTL index

#### **C√°c b∆∞·ªõc:**
1. VSCode: M·ªü file `backend/models/ActivityLog.js`
2. Scroll ƒë·ªÉ th·∫•y:
   - Schema definition (userId, action, details, timestamp, etc.)
   - TTL index: `expireAfterSeconds: 90 * 24 * 60 * 60` (90 days)

#### **Ch·ª•p m√†n h√¨nh:**
1. `Win + Shift + S`
2. K√©o chu·ªôt bao:
   - Schema fields
   - TTL index code
3. **Save as:** `A5_6_Code_ActivityLog_Model.png`

‚úÖ **Xong Screenshot A5.6!**

---

## üì∏ HO·∫†T ƒê·ªòNG 6: REDUX TOOLKIT + PROTECTED ROUTES (8 ·∫£nh)

---

### üñºÔ∏è **Screenshot A6.1: Redux DevTools - Auth State (Before Login)**

#### **M·ª•c ƒë√≠ch:** Ch·ª©ng minh Redux state TR∆Ø·ªöC khi login

#### **C√°c b∆∞·ªõc:**
1. Browser: http://localhost:3001 (trang login)
2. F12 ‚Üí Redux tab (ph·∫£i c√†i Redux DevTools extension)
3. Click **"State"** (b√™n tr√°i)
4. Expand `auth` node

#### **Ph·∫£i th·∫•y:**
```javascript
auth: {
  user: null,
  accessToken: null,
  refreshToken: null,
  isAuthenticated: false,
  isLoading: false,
  error: null
}
```

#### **Ch·ª•p m√†n h√¨nh:**
1. `Win + Shift + S`
2. K√©o chu·ªôt bao:
   - Redux tab
   - State tree v·ªõi auth expanded
3. **Save as:** `A6_1_Redux_State_Before_Login.png`

‚úÖ **Xong Screenshot A6.1!**

---

### üñºÔ∏è **Screenshot A6.2: Login Page - Redux Form**

#### **M·ª•c ƒë√≠ch:** Ch·ª©ng minh Login page v·ªõi Redux integration

#### **C√°c b∆∞·ªõc:**
1. Browser: http://localhost:3001/login
2. Form ph·∫£i c√≥:
   - Email input
   - Password input
   - Button "ƒêƒÉng nh·∫≠p"

#### **Ch·ª•p m√†n h√¨nh:**
1. Nh·∫≠p email: admin@example.com
2. Nh·∫≠p password: admin123
3. `Win + Shift + S`
4. **Save as:** `A6_2_Login_Page_Form.png`

‚úÖ **Xong Screenshot A6.2!**

---

### üñºÔ∏è **Screenshot A6.3: Redux DevTools - Login Action Dispatched**

#### **M·ª•c ƒë√≠ch:** Ch·ª©ng minh Redux action ƒë∆∞·ª£c dispatch khi login

#### **C√°c b∆∞·ªõc:**
1. ·ªû trang login, m·ªü Redux DevTools
2. Click tab **"Action"** (thay v√¨ State)
3. Click button "ƒêƒÉng nh·∫≠p"
4. **NHANH TAY** ch·ª•p ngay!

#### **Ph·∫£i th·∫•y:**
```
Action: auth/loginUser/pending
Action: auth/loginUser/fulfilled
```

#### **Ch·ª•p m√†n h√¨nh:**
1. `Win + Shift + S`
2. K√©o chu·ªôt bao Redux Actions list
3. **Save as:** `A6_3_Redux_Login_Action.png`

‚úÖ **Xong Screenshot A6.3!**

---

### üñºÔ∏è **Screenshot A6.4: Redux DevTools - Auth State (After Login)**

#### **M·ª•c ƒë√≠ch:** Ch·ª©ng minh Redux state SAU khi login th√†nh c√¥ng

#### **C√°c b∆∞·ªõc:**
1. Sau khi login th√†nh c√¥ng (redirect v·ªÅ /profile ho·∫∑c /admin)
2. F12 ‚Üí Redux tab ‚Üí State
3. Expand `auth` node

#### **Ph·∫£i th·∫•y:**
```javascript
auth: {
  user: {
    id: "673c9b26...",
    name: "Admin",
    email: "admin@example.com",
    role: "admin"
  },
  accessToken: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  refreshToken: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  isAuthenticated: true,
  isLoading: false,
  error: null
}
```

#### **Ch·ª•p m√†n h√¨nh:**
1. `Win + Shift + S`
2. **Save as:** `A6_4_Redux_State_After_Login.png`

‚úÖ **Xong Screenshot A6.4!**

---

### üñºÔ∏è **Screenshot A6.5: Protected Route - Redirect Unauthenticated**

#### **M·ª•c ƒë√≠ch:** Ch·ª©ng minh Protected Route redirect user ch∆∞a login

#### **C√°c b∆∞·ªõc:**
1. Browser: Logout (n·∫øu ƒëang login)
2. Th·ª≠ truy c·∫≠p: http://localhost:3001/profile
3. Ho·∫∑c: http://localhost:3001/admin

#### **Ph·∫£i th·∫•y:**
- ‚úÖ T·ª± ƒë·ªông redirect v·ªÅ `/login`
- ‚úÖ Toast message: "Please login to access this page" (n·∫øu c√≥)

#### **Ch·ª•p m√†n h√¨nh:**
1. `Win + Shift + S`
2. K√©o chu·ªôt bao trang login (sau redirect)
3. **Save as:** `A6_5_Protected_Route_Redirect.png`

‚úÖ **Xong Screenshot A6.5!**

---

### üñºÔ∏è **Screenshot A6.6: Protected Route - Role-Based Access (Admin)**

#### **M·ª•c ƒë√≠ch:** Ch·ª©ng minh RBAC - Admin c√≥ quy·ªÅn v√†o Admin Panel

#### **C√°c b∆∞·ªõc:**
1. Login: admin@example.com / admin123
2. Redirect v·ªÅ: http://localhost:3001/admin (ho·∫∑c /profile)

#### **Ph·∫£i th·∫•y:**
- ‚úÖ Admin Dashboard hi·ªÉn th·ªã
- ‚úÖ C√≥ n√∫t "üëë Admin Panel" ho·∫∑c "Manage Users"
- ‚úÖ Stats cards (Total Users, etc.)

#### **Ch·ª•p m√†n h√¨nh:**
1. `Win + Shift + S`
2. **Save as:** `A6_6_Admin_Panel_Access.png`

‚úÖ **Xong Screenshot A6.6!**

---

### üñºÔ∏è **Screenshot A6.7: Protected Route - Role-Based Access (User Denied)**

#### **M·ª•c ƒë√≠ch:** Ch·ª©ng minh RBAC - User th∆∞·ªùng KH√îNG th·∫•y Admin Panel

#### **C√°c b∆∞·ªõc:**
1. Logout admin
2. Login: user@example.com / user123
3. Redirect v·ªÅ: http://localhost:3001/profile

#### **Ph·∫£i th·∫•y:**
- ‚úÖ Profile page hi·ªÉn th·ªã
- ‚úÖ KH√îNG c√≥ n√∫t "Admin Panel"
- ‚úÖ Ch·ªâ c√≥: Profile info, Edit Profile, Logout

#### **Bonus:** Th·ª≠ truy c·∫≠p http://localhost:3001/admin
- ‚úÖ Redirect v·ªÅ /profile ho·∫∑c hi·ªán "Access Denied"

#### **Ch·ª•p m√†n h√¨nh:**
1. `Win + Shift + S`
2. **Save as:** `A6_7_User_Panel_Limited_Access.png`

‚úÖ **Xong Screenshot A6.7!**

---

### üñºÔ∏è **Screenshot A6.8: Redux Code - authSlice.js**

#### **M·ª•c ƒë√≠ch:** Ch·ª©ng minh Redux Toolkit slice code

#### **C√°c b∆∞·ªõc:**
1. VSCode: M·ªü `frontend/src/store/slices/authSlice.js`
2. Scroll ƒë·ªÉ th·∫•y:
   - `createSlice` with name: 'auth'
   - `initialState` v·ªõi user, tokens, isAuthenticated
   - `createAsyncThunk`: loginUser, logoutUser
   - Reducers: loginSuccess, logout

#### **Ch·ª•p m√†n h√¨nh:**
1. `Win + Shift + S`
2. K√©o chu·ªôt bao main code sections
3. **Save as:** `A6_8_Code_AuthSlice.png`

‚úÖ **Xong Screenshot A6.8!**

---

## üìä CHECKLIST HO√ÄN TH√ÄNH

### ‚úÖ **Ho·∫°t ƒë·ªông 5: Activity Logging (6 ·∫£nh)**
- [ ] A5.1 - MongoDB ActivityLogs Collection
- [ ] A5.2 - Postman GET /api/logs
- [ ] A5.3 - Postman GET /api/logs/user/:userId
- [ ] A5.4 - Frontend Activity Logs Page
- [ ] A5.5 - Code activityLogger.js
- [ ] A5.6 - Code ActivityLog.js Model

### ‚úÖ **Ho·∫°t ƒë·ªông 6: Redux + Protected Routes (8 ·∫£nh)**
- [ ] A6.1 - Redux State Before Login
- [ ] A6.2 - Login Page Form
- [ ] A6.3 - Redux Login Action
- [ ] A6.4 - Redux State After Login
- [ ] A6.5 - Protected Route Redirect
- [ ] A6.6 - Admin Panel Access
- [ ] A6.7 - User Limited Access
- [ ] A6.8 - Code authSlice.js

**T·ªîNG: 14 SCREENSHOTS** ‚úÖ

---

## üéØ FILE NAMING

L∆∞u screenshots theo format:
```
Activity_5_Screenshots/
‚îú‚îÄ‚îÄ A5_1_MongoDB_ActivityLogs.png
‚îú‚îÄ‚îÄ A5_2_Postman_GET_Logs.png
‚îú‚îÄ‚îÄ A5_3_Postman_GET_User_Logs.png
‚îú‚îÄ‚îÄ A5_4_Frontend_Activity_Logs_Page.png
‚îú‚îÄ‚îÄ A5_5_Code_ActivityLogger_Middleware.png
‚îî‚îÄ‚îÄ A5_6_Code_ActivityLog_Model.png

Activity_6_Screenshots/
‚îú‚îÄ‚îÄ A6_1_Redux_State_Before_Login.png
‚îú‚îÄ‚îÄ A6_2_Login_Page_Form.png
‚îú‚îÄ‚îÄ A6_3_Redux_Login_Action.png
‚îú‚îÄ‚îÄ A6_4_Redux_State_After_Login.png
‚îú‚îÄ‚îÄ A6_5_Protected_Route_Redirect.png
‚îú‚îÄ‚îÄ A6_6_Admin_Panel_Access.png
‚îú‚îÄ‚îÄ A6_7_User_Panel_Limited_Access.png
‚îî‚îÄ‚îÄ A6_8_Code_AuthSlice.png
```

---

## ‚è±Ô∏è TH·ªúI GIAN ∆Ø·ªöC T√çNH

| Activity | Screenshots | Time |
|----------|-------------|------|
| Ho·∫°t ƒë·ªông 5 | 6 | 15 ph√∫t |
| Ho·∫°t ƒë·ªông 6 | 8 | 20 ph√∫t |
| **TOTAL** | **14** | **~35 ph√∫t** |

---

## üöÄ S·∫¥N S√ÄNG B·∫ÆT ƒê·∫¶U!

1. ‚úÖ Double-click `START_BOTH_SERVERS.bat`
2. ‚úÖ ƒê·ª£i 20 gi√¢y cho backend + frontend start
3. ‚úÖ M·ªü file n√†y `SCREENSHOTS_ACTIVITY_5_6.md`
4. ‚úÖ Follow t·ª´ng b∆∞·ªõc
5. ‚úÖ Tick ‚úÖ sau m·ªói screenshot

**GOOD LUCK! üì∏‚ú®**
